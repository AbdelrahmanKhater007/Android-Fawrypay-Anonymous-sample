# Fawry SDK

## Getting Started

Add the following repository to your (root) ```build.gradle```

```yaml
repositories {
...
jcenter()
maven {
url 'https://nexus.mobile.fawry.io/repository/maven-releases/'
credentials {
username "admin"
password "Mobile#F@wry#2022"
}
}
}
```
And add the following to your (app)```build.gradle```

```yaml
dependencies {
    ...
    implementation 'com.fawry.sdk:framework:0.0.2'
}
```

Add the following to your ```Manifest.xml```

```yaml
<application
    ...
    tools:replace="android:allowBackup" />
```

Finally add the following property to your ```build.properties```
```yaml
android.enableJetifier=true
```

## Payment Initialization

You can initialize the sdk by calling ```FawrySdk.launchAnonymousSDK()``` and start passing the following parameters.
#### Mandatory parameters: -
- Reference for an activity
- Language (will be either English or Arabic based on the enum class for example : ```FawrySdk.Languages.ENGLISH```)
- Base url -> provided by the support team
- FawryLaunchModel 'Mandatory parameters': -
    - LaunchCustomerModel (optional) – parameters
        - customerName (optional)
        - customerEmail (optional - Receives an email with the receipt after the
          payment is complete)
        - customerMobile (optional - Receives an SMS with the reference number
          and payment details)
    - ChargeItem -> parameters
        - Price (mandatory)
        -  Quantity (mandatory)
        - itemId (mandatory)
        - Description (optional)
    - LaunchMerchantModel – parameters
        - merchantCode (provided by support – mandatory)
        - secretCode (provided by support)
        - merchantRefNum (random 10 alphanumeric digits – mandatory)
    - allow3DPayment (to allow 3dsecure payment)
    - signature (generated by you)
        - note: you can pass either signature or secretKey (in this case we will
          create the signature internally), knowing that if the 2 parameters passed
          the secretKey will be ignored and the signature will be used.
    - skipLogin (you can skip login screen that takes email and mobile) and default
      value true
    - skipReceipt (to skip the receipt screen) and default value false

### UI Overriding

If you want to change colors: -
You need to know the id of the color you want to change then add a color in your colors file in the host
app with the same id but with the value you want
For example: the blue color
```<color name="fawry_blue">#FF000000</color>```
If you changed this color it will change the main screen color in the payment fragment I made it black as
example in the host app, but you can change it to whatever you want.

If you want to change a specific view: -
You need to know the name of the view or xml file that you want to change and you can create the
customized xml that you want but you need to name it as the xml file that you want to replace
For example, add ```payment_fragment.xml``` in the layout to override the payment fragment of the xml
and changed the attribute visibility of the confirm btn to be gone if you changed it to be visible it will
appear again.
